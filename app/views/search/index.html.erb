<h3 style="padding-top: 10px;">Search for Quotes</h3>
<%= form_tag search_path, method: :get do %>
    <div class="form-group" style="padding-bottom: 10px;">
        <div class="row justify-content-md-center">
            <div class ="col-10">
                <%= text_field_tag :search_query, params[:search_query], placeholder: 'Search', class: "form-control" %>
            </div>
            <div class ="col-2">
                <%= select_tag(:search_type, options_for_select([['Quote', 'quote'], ['Category', 'category'], ['Philosopher', 'source']]), class:"form-select")  %>
            </div>
        </div>    
    </div>
    <%= submit_tag 'Find Quotes', class: "btn btn-primary" %>
<% end %>

<% if params[:search_query].present? %>
    <% if @quotematch.present? %>
        <h4 style="padding-top: 15px;">Results:</h4>
        <% @quotematch.each do |quote| %>
            <div>
                <h5 class="text-primary"><%= quote.source.fname %> <%= quote.source.lname %></h5>
                <h6>
                    Category(s): 
                    <% quote.categories.each do |category| %>
                        <%= category.catname %>
                    <% end %>
                </h6>
                <%= quote.qtext %> [<a href="/quotes/<%= quote.id %>">Read full quote</a>]
            </div>
            <br />
        <% end %>
    <% else %>
        <p>No matching quotes found.</p>
    <% end %>
<% end %>

